{% load cache %}
<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8">
    <title>Exámenes - Bootcamp Django</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  </head>
  <body class="container my-4">
    <h1 class="text-danger">Boot Camp Django Código Facilito</h1>
    <h2 class="mt-4">API de Administración de Colegios</h2>
    <h3 class="mt-3">Exámenes habilitados</h3>

    {% cache 120 examenes %}
    {% if examenes %}
      <div class="table-responsive">
        <table class="table table-striped table-bordered mt-3">
          <thead class="table-dark">
            <tr>
              <th>#</th>
              <th>Comisión</th>
              <th>Materia</th>
              <th>Docente</th>
              <th>Fecha</th>
            </tr>
          </thead>
          <tbody>
            {% for examen in examenes %}
              <tr>
                <td>{{ forloop.counter }}</td>
                <td>{{ examen.comision }}</td>
                <td>{{ examen.comision.materia }}</td>
                <td>{{ examen.comision.docente }}</td>
                <td>{{ examen.fecha }}</td>
              </tr>
            {% endfor %}
          </tbody>
        </table>
      </div>
    {% else %}
      <p class="text-muted">No hay exámenes cargados todavía.</p>
    {% endif %}
    {% endcache %}
  </body>
</html>
